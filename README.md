# YouTube Live Chat Fetcher

## Установка

1. Установите зависимости:
   ```
   npm install
   ```
2. Создайте файл `.env` по образцу `.env.example` и заполните `YOUTUBE_API_KEY`, `YOUTUBE_CHANNEL_ID`, при необходимости `YOUTUBE_LIVE_CHAT_ID`.

## Запуск

### Веб-интерфейс

Для отображения чата в браузере:

```
npm run dev
```

Сервер запускается на `http://localhost:3000`, автоматически ищет активную трансляцию канала и отображает сообщения чата в реальном времени.

### Получение сообщений из Live Chat

Для получения сообщений из указанного Live Chat в консоль:

```
npm start
```

### Извлечение Live Chat ID из трансляции

Для автоматического поиска активной трансляции канала и извлечения Live Chat ID:

```
npm run test:serejaris
```

Скрипт выполняет следующие действия:
1. Находит канал по handle (по умолчанию `@serejaris`, можно изменить через переменную окружения `YOUTUBE_CHANNEL_HANDLE`)
2. Ищет активную трансляцию канала
3. Извлекает Live Chat ID из трансляции
4. Получает и отображает сообщения из чата трансляции

## Другие команды

- `npm run test:connection` - тестирование подключения к YouTube API
- `npm run get-channel` - получение данных канала
